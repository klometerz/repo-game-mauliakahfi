<!doctype html>
<html lang="id">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Couple Deep Talk Cards ‚Äî Game</title>
<link rel="icon" href="data:;base64,iVBORw0KGgo=">
<style>
  :root{
    --bg:#f8f6fb; --card:#ffffff; --accent:#f6c1d9; --muted:#777;
    --glass: rgba(255,255,255,0.7);
    font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  }
  html,body{height:100%; margin:0; background:linear-gradient(180deg,#fff 0%, #f0eef8 100%); color:#222}
  .wrap{max-width:980px;margin:28px auto;padding:18px}
  header{display:flex;align-items:center;gap:12px}
  h1{margin:0;font-size:20px}
  .controls{display:flex;gap:8px;margin:12px 0;flex-wrap:wrap}
  select,button{padding:8px 12px;border-radius:10px;border:1px solid #e6e1ef;background:white;cursor:pointer}
  .card{background:var(--card);border-radius:12px;padding:18px;box-shadow:0 6px 18px rgba(40,20,60,0.06);min-height:120px;display:flex;align-items:center;justify-content:center;text-align:center;font-size:18px}
  .meta{margin-top:12px;color:var(--muted);font-size:13px}
  .actions{display:flex;gap:8px;margin-top:14px}
  .small{font-size:14px;padding:6px 10px}
  .cards-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:12px;margin-top:18px}
  footer{margin-top:20px;color:var(--muted);font-size:13px}
  /* PRINT STYLES for printable cards */
  @media print{
    body{background:white}
    .no-print{display:none}
    .wrap{max-width:100%;margin:0;padding:0}
    .print-grid{display:grid;grid-template-columns:repeat(2, 1fr);gap:10mm;padding:10mm}
    .print-card{page-break-inside:avoid;border:1px solid #eee;padding:12mm;border-radius:6mm;box-sizing:border-box;height:90mm}
  }
  /* small touches */
  .level-badge{padding:6px 8px;border-radius:999px;background:linear-gradient(90deg,#ffd9e8,#ffd6b8);font-weight:600}
  .center{display:flex;flex-direction:column;gap:8px;align-items:center}
</style>
</head>
<body>
<div class="wrap">
  <header>
    <div style="width:56px;height:56px;border-radius:12px;background:linear-gradient(135deg,#ffd6e6,#dbe9ff);display:flex;align-items:center;justify-content:center;font-weight:700">‚ô•‚ô•</div>
    <div>
      <h1>Game kartu pertanyaan. buat seru2an aja ehehehe</h1>
      <div class="meta">Random card untuk obrolan yang santai. mayan lah biar seru aja üòå</div>
    </div>
  </header>

  <div class="controls no-print">
    <label>
      Level:
      <select id="levelSelect">
        <option value="1">Level 1 ‚Äî Warm Up</option>
        <option value="2">Level 2 ‚Äî Medium</option>
        <option value="3">Level 3 ‚Äî Deep Talk</option>
        <option value="bonus">Bonus ‚Äî Eksperimen</option>
        <option value="all">Semua Level (acak)</option>
      </select>
    </label>

    <button id="drawBtn">Ambil Kartu Acak</button>
    <button id="nextBtn" class="small">Next Card</button>
    <button id="showAllBtn" class="small">Tampilkan Semua (Preview)</button>
    <button id="printBtn" class="small">Print Kartu</button>
  </div>

  <div class="center">
    <div id="cardArea" class="card">Klik "Ambil Kartu Acak" untuk mulai üé¥</div>
    <div class="actions no-print">
      <button id="saveNote" class="small">Simpan Catatan Jawaban</button>
      <button id="shareBtn" class="small">Salin Jawaban ke Clipboard</button>
    </div>
  </div>

  <div id="preview" class="cards-grid" style="display:none"></div>

  <footer>
    Tips: Pilih 3‚Äì4 kartu acak tiap sesi. Yang nggak bisa jawab wajib peluk pas ketemu üòÅ
  </footer>

  <!-- hidden printable container -->
  <div id="printContainer" style="display:none">
    <div class="print-grid" id="printGrid"></div>
  </div>
</div>

<script>
  // deck data
  const deck = {
    1: [
      "Kalau hidup ini simulasi, menurutmu cinta kita tetep nyata nggak?",
      "Kalau bisa balik ke masa lalu, kamu pilih ketemu aku lebih cepat atau tetap sekarang?",
      "Menurut kamu, hal kecil apa yang bikin hubungan kita jadi spesial dibanding orang lain?"
    ],
    2: [
      "Kalau aku berubah seiring waktu, kapan menurutmu aku udah bukan 'aku yang dulu' lagi?",
      "Kamu percaya kita ditakdirkan ketemu, atau hasil pilihan kecil-kecil kita di masa lalu?",
      "Kalau ada pil yang bikin kamu 100% setia, apa kamu mau minum itu, atau lebih milih setia karena pilihanmu sendiri?"
    ],
    3: [
      "Kalau suatu hari aku pikun dan nggak ingat siapa kamu, apa cinta itu masih ada menurutmu?",
      "Kalau di multiverse ada 100 versi dunia lain, apa di semuanya kamu tetep pilih aku?",
      "Apa arti 'cinta sejati' buatmu ‚Äî pilihan, perasaan, atau sesuatu yang di luar logika?"
    ],
    bonus: [
      "Kalau kita ditransfer lewat mesin teleportasi (tubuh lama dihancurin, muncul tubuh baru persis sama), menurutmu aku yang baru itu masih 'aku' yang kamu cintai nggak?",
      "Kalau kita bisa tahu akhir cerita hidup kita sekarang, kamu mau lihat atau lebih pilih jalaninnya tanpa tahu?",
      "Kalau aku jadi AI canggih yang bisa nyalin semua memori dan sifatku, apa kamu tetep nganggep aku pasanganmu?"
    ]
  };

  // state
  let history = [];
  let current = null;

  // helpers
  function randomFrom(arr){ return arr[Math.floor(Math.random()*arr.length)]; }
  function draw(level){
    let pool = [];
    if(level === 'all'){
      for(const k in deck) pool = pool.concat(deck[k]);
    } else {
      pool = deck[level] ? [...deck[level]] : [];
    }
    if(pool.length === 0) return "Tidak ada kartu di level ini.";
    // avoid immediate repeat if possible
    let tries = 0;
    let pick;
    do{
      pick = randomFrom(pool);
      tries++;
      if(tries>10) break;
    } while(history.slice(-3).includes(pick));
    current = pick;
    history.push(pick);
    return pick;
  }

  // UI
  const cardArea = document.getElementById('cardArea');
  document.getElementById('drawBtn').addEventListener('click', ()=>{
    const lvl = document.getElementById('levelSelect').value;
    const text = draw(lvl);
    cardArea.textContent = text;
  });
  document.getElementById('nextBtn').addEventListener('click', ()=>{
    const lvl = document.getElementById('levelSelect').value;
    const text = draw(lvl);
    cardArea.textContent = text;
  });

  document.getElementById('showAllBtn').addEventListener('click', ()=>{
    const preview = document.getElementById('preview');
    preview.innerHTML = '';
    preview.style.display = 'grid';
    for(const key of Object.keys(deck)){
      deck[key].forEach(q=>{
        const el = document.createElement('div');
        el.className = 'card';
        el.style.minHeight = '80px';
        el.innerHTML = `<strong>${key.toUpperCase()}</strong><div style="margin-top:8px">${q}</div>`;
        preview.appendChild(el);
      });
    }
    setTimeout(()=> window.scrollTo({top: preview.offsetTop-20, behavior:'smooth'}),100);
  });

  document.getElementById('printBtn').addEventListener('click', ()=>{
    // build printable cards (2 per row A4 friendly)
    const printGrid = document.getElementById('printGrid');
    printGrid.innerHTML = '';
    const all = [];
    for(const k of Object.keys(deck)) deck[k].forEach(q=> all.push({level:k, q}));
    // if too many, limit to 12 for nicer print by default
    const list = all.slice(0, 12);
    list.forEach(item=>{
      const card = document.createElement('div');
      card.className = 'print-card';
      card.innerHTML = `<div style="font-weight:700;margin-bottom:6px">Level: ${item.level.toUpperCase()}</div>
        <div style="font-size:18px;line-height:1.3">${item.q}</div>
        <div style="margin-top:12px;font-size:12px;color:#666">Jawab di sini: ____________________________</div>`;
      printGrid.appendChild(card);
    });
    // show and trigger print
    document.getElementById('printContainer').style.display = 'block';
    window.print();
    document.getElementById('printContainer').style.display = 'none';
  });

  // save note (simple localStorage)
  document.getElementById('saveNote').addEventListener('click', ()=>{
    if(!current){ alert('Ambil kartu dulu dong.'); return; }
    const note = prompt('Tulis catatan/jawaban singkat untuk kartu ini:', '');
    if(note!==null){
      const saved = JSON.parse(localStorage.getItem('cdtc_notes')||'{}');
      saved[current] = saved[current] || [];
      saved[current].push({note, when: new Date().toISOString()});
      localStorage.setItem('cdtc_notes', JSON.stringify(saved));
      alert('Tersimpan ‚úî');
    }
  });

  document.getElementById('shareBtn').addEventListener('click', async ()=>{
    if(!current){ alert('Ambil kartu dulu dong.'); return; }
    try{
      await navigator.clipboard.writeText(current);
      alert('Kartu disalin ke clipboard ‚Äî tinggal paste ke chat/notes!');
    }catch(e){
      alert('Gagal salin otomatis. Silakan blok lalu Ctrl+C.');
    }
  });

  // allow Enter to draw
  document.addEventListener('keydown', (e)=>{ if(e.key==='Enter'){ document.getElementById('drawBtn').click(); }});

</script>
</body>
</html>
